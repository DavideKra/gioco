:root{
  --bg:#050505;
  --ink:#f6efe7;
  --muted:#b9a89a;
  --red:#ff3b2f;
  --green:#37ff2a;
  --shadow:0 24px 60px rgba(0,0,0,.65);
  --glow-red: 0 0 18px rgba(255,59,47,.65), 0 0 46px rgba(255,59,47,.25);
  --glow-green: 0 0 18px rgba(55,255,42,.55), 0 0 46px rgba(55,255,42,.18);
}

*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  font-family:"Franklin Gothic Medium","Arial Narrow",Arial,sans-serif;
  color:var(--ink);
  background:
    radial-gradient(1100px 700px at 70% -10%, rgba(255,59,47,.10), transparent 60%),
    radial-gradient(900px 700px at 10% 110%, rgba(255,59,47,.08), transparent 60%),
    repeating-linear-gradient(130deg, rgba(255,255,255,0.03) 0px, rgba(255,255,255,0.03) 2px, transparent 2px, transparent 6px),
    var(--bg);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:24px;
}

.app{
  width:min(1400px,100%);
  min-height:min(900px,94vh);
  border-radius:26px;
  box-shadow:var(--shadow);
  border:1px solid rgba(255,255,255,0.08);
  background:rgba(10,10,10,.70);
  position:relative;
  overflow:hidden;
  padding:36px;
}

.app::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    linear-gradient(180deg, rgba(255,255,255,0.04), transparent 18%, transparent 78%, rgba(0,0,0,0.35)),
    radial-gradient(700px 260px at 80% 0%, rgba(255,59,47,0.12), transparent 70%);
  mix-blend-mode:screen;
}

h1{
  margin:0 0 8px;
  font-size:clamp(34px,4.2vw,56px);
  letter-spacing:1.2px;
  text-transform:uppercase;
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  text-shadow:0 2px 16px rgba(0,0,0,.7);
  position:relative;
  z-index:1;
}
.subtitle{
  margin:0 0 22px;
  color:var(--muted);
  font-size:18px;
  text-transform:uppercase;
  letter-spacing:2px;
  position:relative;
  z-index:1;
}

.step{display:none; position:relative; z-index:1; animation:fadeIn 420ms ease}
.step.active{display:block}
@keyframes fadeIn{from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)}}

h2{
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  text-transform:uppercase;
  letter-spacing:1.4px;
  font-size:clamp(26px,3vw,38px);
  margin: 12px 0 16px;
}

/* STEP 1 */
.options{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:18px;
}
.option{
  border:2px solid rgba(255,255,255,0.16);
  border-radius:18px;
  padding:22px 18px;
  cursor:pointer;
  transition:180ms ease;
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  background:linear-gradient(180deg, rgba(30,18,18,.9), rgba(10,8,9,.9));
  text-align:center;
  font-size:clamp(22px,2.6vw,34px);
  text-transform:uppercase;
  letter-spacing:1.2px;
}
.option:hover{
  border-color:var(--red);
  transform:translateY(-3px) scale(1.02);
  box-shadow:var(--glow-red);
}
.option.selected{
  border-color:var(--red);
  background:linear-gradient(180deg, rgba(70,16,16,.95), rgba(20,10,10,.95));
  box-shadow:var(--glow-red);
}

.actions{
  margin-top:24px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}
button{
  border:0;
  padding:14px 22px;
  border-radius:999px;
  cursor:pointer;
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  font-weight:600;
  transition:160ms ease;
  text-transform:uppercase;
  letter-spacing:1.4px;
  font-size:18px;
}
.primary{
  background:linear-gradient(180deg, #ff5a4f, #a81c14);
  color:white;
  box-shadow:var(--glow-red);
}
.primary:disabled{opacity:.5; cursor:not-allowed}
.secondary{
  background:rgba(255,255,255,0.08);
  color:var(--ink);
  border:1px solid rgba(255,255,255,0.12);
}

/* STEP 2 */
.select-screen{
  display:grid;
  grid-template-rows: 1fr auto;
  gap:18px;
  min-height: min(760px, 76vh);
}
.stage{
  position:relative;
  border-radius:22px;
  background: #000;
  border:1px solid rgba(255,255,255,0.10);
  overflow:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:22px;
  cursor:pointer;
}
.stage::before{
  content:"";
  position:absolute;
  inset:-40%;
  background:
    radial-gradient(420px 260px at 50% 18%, rgba(255,255,255,0.15), transparent 62%),
    radial-gradient(560px 360px at 50% 12%, rgba(255,255,255,0.10), transparent 65%),
    radial-gradient(800px 540px at 50% 0%, rgba(255,59,47,0.08), transparent 70%);
  pointer-events:none;
  opacity:.95;
}
.pawn-wrap{
  position:relative;
  width:min(420px, 60vw);
  aspect-ratio: 1 / 1.15;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:1;
}
.pawn-img{
  width:100%;
  height:100%;
  object-fit:contain;
  transform: translateY(8px);
  filter:
    drop-shadow(0 22px 26px rgba(0,0,0,0.75))
    drop-shadow(0 0 22px rgba(255,255,255,0.08));
}
.base{
  position:absolute;
  bottom: 6%;
  width: 64%;
  height: 10%;
  border-radius: 999px;
  background: radial-gradient(80% 120% at 50% 20%, rgba(255,255,255,.25), transparent 50%),
              linear-gradient(180deg, rgba(255,90,79,1), rgba(168,28,20,1));
  box-shadow: 0 20px 30px rgba(0,0,0,.6), var(--glow-red);
  opacity:.55;
  z-index:0;
}
.hud{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-top:12px;
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  text-transform:uppercase;
  letter-spacing:1.4px;
}
.hud .who{ font-size:clamp(20px, 2.2vw, 30px); }
.hud .badge{
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.12);
  padding:8px 16px;
  border-radius:999px;
  font-size:14px;
  color:#f3d7be;
  box-shadow: inset 0 0 18px rgba(0,0,0,0.55);
}

.name-grid{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  border-radius:18px;
  overflow:hidden;
  border:2px solid rgba(255,255,255,0.26);
  background:#000;
}
.name-btn{
  user-select:none;
  padding:24px 14px;
  background:#000;
  border-right:2px solid rgba(255,255,255,0.26);
  border-bottom:2px solid rgba(255,255,255,0.26);
  color: var(--red);
  text-align:center;
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  font-size: clamp(18px, 2.2vw, 38px);
  letter-spacing:1px;
  text-transform:uppercase;
  cursor:pointer;
  transition:140ms ease;
}
.name-btn:nth-child(3n){ border-right:0; }
.name-btn:hover{ box-shadow: inset 0 0 0 2px rgba(255,255,255,0.10); transform: translateY(-1px); }
.name-btn.selected{ background:#16ff16; color:#ff3b2f; box-shadow:var(--glow-green); }
.name-btn.disabled{ opacity:.35; filter: grayscale(.3); cursor:not-allowed; }

.summary{
  margin-top:14px;
  background:rgba(0,0,0,0.55);
  border-radius:16px;
  padding:14px 16px;
  border:1px solid rgba(255,255,255,0.10);
}
.summary ul{margin:8px 0 0; padding-left:18px}
.summary li{margin:6px 0}

.confirm{ margin-top:10px; display:flex; align-items:center; gap:10px; }
.confirm input{transform:scale(1.15)}

.pick-confirm{
  margin-top:14px;
  padding:14px 16px;
  background: rgba(0,0,0,0.62);
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.12);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}
.pick-confirm strong{
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  text-transform:uppercase;
  letter-spacing:1.1px;
  font-size:18px;
}
.pick-confirm .mini-actions{display:flex; gap:10px; flex-wrap:wrap;}
.success{
  background:linear-gradient(180deg, #31ff31, #0c7f0c);
  color:#001500;
  box-shadow: var(--glow-green);
}

/* STEP 3 - TABELLONE */
.board-tools{
  position:absolute;
  top:28px;
  right:28px;
  display:flex;
  gap:10px;
  z-index:2;
}
.tool-btn{
  border:0;
  border-radius:12px;
  padding:10px 12px;
  background:rgba(255,255,255,0.08);
  color:var(--ink);
  border:1px solid rgba(255,255,255,0.12);
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  cursor:pointer;
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:14px;
}
.tool-btn svg{
  width:18px;
  height:18px;
  fill:currentColor;
}

.board-upper{
  display:grid;
  grid-template-columns: minmax(260px, 1fr) minmax(320px, 1.2fr);
  gap:18px;
  align-items:stretch;
  margin: 10px 0 18px;
}
.turn-panel{
  border-radius:22px;
  border:1px solid rgba(255,255,255,0.14);
  background:
    radial-gradient(180px 120px at 70% 10%, rgba(255,255,255,0.08), transparent 70%),
    linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.75));
  padding:16px 18px 20px;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.turn-title{
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  text-transform:uppercase;
  letter-spacing:1.4px;
  color:var(--muted);
  font-size:14px;
}
.turn-player{
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  text-transform:uppercase;
  letter-spacing:1.6px;
  font-size:clamp(20px, 2.6vw, 32px);
}
.turn-pawn{
  flex:1;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:10px;
}
.turn-pawn img{
  width:min(220px, 52vw);
  height:min(240px, 36vh);
  object-fit:contain;
  filter:
    drop-shadow(0 22px 26px rgba(0,0,0,0.75))
    drop-shadow(0 0 22px rgba(255,255,255,0.08));
}

.dice-panel{
  border-radius:22px;
  border:1px solid rgba(255,255,255,0.14);
  background:
    radial-gradient(280px 160px at 30% 0%, rgba(255,255,255,0.09), transparent 70%),
    linear-gradient(180deg, rgba(12,12,12,0.75), rgba(0,0,0,0.85));
  padding:16px 18px 18px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.dice-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
}
.dice-label{
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  text-transform:uppercase;
  letter-spacing:1.4px;
  font-size:18px;
}
.dice-status{
  color:var(--muted);
  font-size:14px;
  letter-spacing:0.6px;
}
.dice-area{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:18px;
  background:rgba(0,0,0,0.55);
  border:1px solid rgba(255,255,255,0.10);
  border-radius:18px;
  padding:18px;
}
.die{
  width:108px;
  height:108px;
  border-radius:22px;
  background:
    radial-gradient(80px 60px at 30% 20%, rgba(255,255,255,0.25), transparent 60%),
    linear-gradient(180deg, #f8f1e7, #d8c7b5);
  border:2px solid rgba(0,0,0,0.35);
  box-shadow: 0 16px 26px rgba(0,0,0,0.6);
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
}
.die.rolling{
  animation: dieRoll 650ms ease;
}
@keyframes dieRoll{
  0%{ transform: rotate(0deg) scale(1); }
  35%{ transform: rotate(35deg) scale(1.08); }
  70%{ transform: rotate(-28deg) scale(1.02); }
  100%{ transform: rotate(0deg) scale(1); }
}
.pip{
  width:16px;
  height:16px;
  border-radius:999px;
  background:#1a120c;
  position:absolute;
  opacity:0;
  box-shadow: inset 0 0 6px rgba(0,0,0,0.5);
}
.pip.p1{ top:50%; left:50%; transform:translate(-50%,-50%); }
.pip.p2{ top:20%; left:22%; }
.pip.p3{ top:20%; right:22%; }
.pip.p4{ bottom:20%; left:22%; }
.pip.p5{ bottom:20%; right:22%; }
.pip.p6{ top:50%; left:22%; transform:translateY(-50%); }
.pip.p7{ top:50%; right:22%; transform:translateY(-50%); }

.die.face-1 .pip.p1{opacity:1;}
.die.face-2 .pip.p2,
.die.face-2 .pip.p5{opacity:1;}
.die.face-3 .pip.p2,
.die.face-3 .pip.p1,
.die.face-3 .pip.p5{opacity:1;}
.die.face-4 .pip.p2,
.die.face-4 .pip.p3,
.die.face-4 .pip.p4,
.die.face-4 .pip.p5{opacity:1;}
.die.face-5 .pip.p2,
.die.face-5 .pip.p3,
.die.face-5 .pip.p4,
.die.face-5 .pip.p5,
.die.face-5 .pip.p1{opacity:1;}
.die.face-6 .pip.p2,
.die.face-6 .pip.p6,
.die.face-6 .pip.p4,
.die.face-6 .pip.p3,
.die.face-6 .pip.p7,
.die.face-6 .pip.p5{opacity:1;}

.dice-actions{
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:10px;
}

.modal-backdrop{
  position:fixed;
  inset:0;
  background:rgba(4,4,4,0.68);
  z-index:1000;
}

.question-box{
  position:fixed;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  z-index:1001;
  width:min(980px, 92vw);
  max-height:82vh;
  overflow:auto;
  border-radius:24px;
  border:1px solid rgba(255,255,255,0.18);
  background:
    radial-gradient(320px 180px at 30% 0%, rgba(255,255,255,0.10), transparent 70%),
    linear-gradient(180deg, rgba(10,10,10,0.9), rgba(0,0,0,0.95));
  padding:24px 26px 28px;
  box-shadow:0 28px 70px rgba(0,0,0,0.75);
}
.question-topline{
  font-size:14px;
  color:var(--muted);
  letter-spacing:0.8px;
  margin-bottom:10px;
}
.question-text{
  margin-top:8px;
  font-size:clamp(24px, 2.4vw, 34px);
  line-height:1.45;
  font-family:"Segoe UI","Verdana","Trebuchet MS",Tahoma,sans-serif;
}
.question-options{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
  margin-top:16px;
}
.question-options button{
  border-radius:16px;
  padding:14px 16px;
  font-size:20px;
  font-family:"Segoe UI","Verdana","Trebuchet MS",Tahoma,sans-serif;
  font-weight:600;
  text-transform:none;
  letter-spacing:0.3px;
  background:rgba(255,255,255,0.08);
  color:var(--ink);
  border:1px solid rgba(255,255,255,0.15);
}
.question-options button.correct{
  background:linear-gradient(180deg, #31ff31, #0c7f0c);
  color:#001500;
  box-shadow: var(--glow-green);
}
.question-options button.wrong{
  background:linear-gradient(180deg, #ff5a4f, #a81c14);
  color:#fff;
  box-shadow: var(--glow-red);
}
.question-feedback{
  margin-top:12px;
  color:var(--muted);
  min-height:26px;
  font-size:15px;
}

.ranking-box{
  margin-top:10px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.14);
  background:
    radial-gradient(240px 120px at 30% 0%, rgba(255,255,255,0.08), transparent 70%),
    linear-gradient(180deg, rgba(12,12,12,0.75), rgba(0,0,0,0.85));
  padding:12px 14px 14px;
}
.ranking-topline{
  font-size:12px;
  color:var(--muted);
  letter-spacing:0.6px;
  margin-bottom:6px;
}
.ranking-instruction{
  font-size:16px;
  margin-bottom:10px;
  font-family:"Trebuchet MS","Segoe UI",Tahoma,sans-serif;
}
.ranking-list{
  display:grid;
  grid-template-columns:1fr;
  gap:8px;
}
.ranking-item{
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.18);
  border-radius:12px;
  padding:10px 12px;
  cursor:grab;
  font-family:"Trebuchet MS","Segoe UI",Tahoma,sans-serif;
  font-size:16px;
}
.ranking-item.dragging{
  opacity:0.6;
  cursor:grabbing;
}
.ranking-actions{
  margin-top:10px;
  display:flex;
  justify-content:flex-end;
}
.ranking-feedback{
  margin-top:8px;
  color:var(--muted);
  min-height:22px;
}

.match-box{
  margin-top:10px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.14);
  background:
    radial-gradient(240px 120px at 30% 0%, rgba(255,255,255,0.08), transparent 70%),
    linear-gradient(180deg, rgba(12,12,12,0.75), rgba(0,0,0,0.85));
  padding:12px 14px 14px;
}
.match-topline{
  font-size:12px;
  color:var(--muted);
  letter-spacing:0.6px;
  margin-bottom:6px;
}
.match-instruction{
  font-size:16px;
  margin-bottom:10px;
  font-family:"Trebuchet MS","Segoe UI",Tahoma,sans-serif;
}
.match-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:12px;
}
.match-col-title{
  font-size:12px;
  color:var(--muted);
  letter-spacing:0.6px;
  text-transform:uppercase;
  margin-bottom:6px;
}
.match-list{
  display:grid;
  grid-template-columns:1fr;
  gap:8px;
}
.match-item{
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.18);
  border-radius:12px;
  padding:10px 12px;
  font-family:"Trebuchet MS","Segoe UI",Tahoma,sans-serif;
  font-size:16px;
}
.match-item.draggable{
  cursor:pointer;
}
.match-item.dragging{
  opacity:0.6;
  cursor:grabbing;
}
.match-item.selected{
  box-shadow: inset 0 0 0 2px rgba(255,255,255,0.6);
  background:rgba(255,255,255,0.16);
}
.match-actions{
  margin-top:10px;
  display:flex;
  justify-content:flex-end;
}
.match-feedback{
  margin-top:8px;
  color:var(--muted);
  min-height:22px;
}

.guess-box{
  margin-top:10px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.14);
  background:
    radial-gradient(240px 120px at 30% 0%, rgba(255,255,255,0.08), transparent 70%),
    linear-gradient(180deg, rgba(12,12,12,0.75), rgba(0,0,0,0.85));
  padding:12px 14px 14px;
}
.guess-topline{
  font-size:12px;
  color:var(--muted);
  letter-spacing:0.6px;
  margin-bottom:6px;
}
.guess-killer{
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  text-transform:uppercase;
  letter-spacing:1px;
  font-size:22px;
  margin-bottom:6px;
}
.guess-instruction{
  font-size:15px;
  margin-bottom:10px;
  font-family:"Trebuchet MS","Segoe UI",Tahoma,sans-serif;
}
.guess-list{
  display:grid;
  grid-template-columns:1fr;
  gap:8px;
}
.guess-row{
  display:grid;
  grid-template-columns: minmax(140px, 1fr) minmax(200px, 2fr) 70px;
  align-items:center;
  gap:12px;
  background:rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.18);
  border-radius:12px;
  padding:10px 12px;
}
.guess-player{
  font-family:"Trebuchet MS","Segoe UI",Tahoma,sans-serif;
  font-size:15px;
}
.guess-range input[type="range"]{
  width:100%;
  accent-color:#ff9f1a;
}
.guess-value{
  text-align:right;
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  letter-spacing:1px;
  font-size:16px;
}
.guess-actions{
  margin-top:10px;
  display:flex;
  justify-content:flex-end;
}
.guess-feedback{
  margin-top:8px;
  color:var(--muted);
  min-height:22px;
  white-space:pre-line;
}

.board-top{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:14px;
  flex-wrap:wrap;
  margin-bottom:14px;
}
.start-lane{
  flex:1 1 520px;
  background: rgba(0,0,0,0.55);
  border:1px solid rgba(255,255,255,0.12);
  border-radius:18px;
  padding:12px;
}
.start-title{
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  letter-spacing:1.2px;
  text-transform:uppercase;
  margin-bottom:10px;
  color:#f3d7be;
}
.start-tray{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
  min-height:56px;
}

.board-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.board{
  width:100%;
  height: min(78vh, 920px);   /* riempie in orizzontale, altezza responsiva */
  border-radius:22px;
  border:1px solid rgba(255,255,255,0.14);
  overflow:hidden;
  position:relative;

  background:
    linear-gradient(180deg, rgba(0,0,0,0.40), rgba(0,0,0,0.55)),
    url("sfondo.png");
  background-size: cover;
  background-position: center;

  display:grid;
  grid-template-columns: repeat(10, 1fr);
  grid-template-rows: repeat(10, 1fr);
}

.cell{
  position:relative;
  border:1px solid rgba(255,255,255,0.12);
  display:flex;
  align-items:flex-start;
  justify-content:flex-start;
  padding:6px;
  background: rgba(0,0,0,0.08);
}
.cell.cell-occupied{
  background: rgba(255,59,47,0.12);
  box-shadow: inset 0 0 0 2px rgba(255,255,255,0.12), 0 0 14px rgba(255,90,79,0.35);
}
.cell.special-rank{
  box-shadow: inset 0 0 0 1px rgba(255,215,0,0.35);
}
.cell.special-rank::after{
  content:"★";
  position:absolute;
  top:6px;
  right:6px;
  font-size:14px;
  color:#ffd54a;
  text-shadow:0 0 8px rgba(255,215,0,0.45);
}
.cell.special-match{
  box-shadow: inset 0 0 0 1px rgba(90,200,255,0.35);
}
.cell.special-match::after{
  content:"◆";
  position:absolute;
  top:6px;
  right:6px;
  font-size:14px;
  color:#7bd6ff;
  text-shadow:0 0 8px rgba(123,214,255,0.45);
}
.cell.special-guess{
  box-shadow: inset 0 0 0 1px rgba(255,159,26,0.4);
}
.cell.special-guess::after{
  content:"K";
  position:absolute;
  top:6px;
  right:6px;
  font-size:14px;
  color:#ffb347;
  text-shadow:0 0 8px rgba(255,159,26,0.45);
}
.cell-number{
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  font-size:14px;
  letter-spacing:1px;
  opacity:.9;
  text-shadow: 0 2px 10px rgba(0,0,0,.7);
}

.cell-tokens{
  width:100%;
  height:100%;
  display:grid;
  place-items:center;
  gap:4px;
}
.cell-tokens.tokens-multi{
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(2, 1fr);
}
.cell-tokens.tokens-single .pawn-token{
  width:96%;
  height:96%;
}
.cell-tokens.tokens-multi .pawn-token{
  width:94%;
  height:94%;
}

/* Pedine sul tabellone / start */
.pawn-token{
  width:70px;
  height:70px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.55);
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  position:relative;
}
.pawn-token img{
  width:100%;
  height:100%;
  object-fit:contain;
  padding:4px;
  filter: drop-shadow(0 10px 10px rgba(0,0,0,0.65));
}
.pawn-badge{
  position:absolute;
  bottom:-8px;
  right:-8px;
  width:22px;
  height:22px;
  border-radius:999px;
  background: #16ff16;
  color:#000;
  font-family:"Impact","Haettenschweiler","Arial Black",sans-serif;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:12px;
  border:1px solid rgba(0,0,0,0.35);
}

.board-hint{
  margin-top:12px;
  color: var(--muted);
  letter-spacing: 0.6px;
}

/* mobile */
@media (max-width: 820px){
  .app{padding:24px 20px}
  .select-screen{min-height:auto}
  .name-grid{grid-template-columns: 1fr}
  .name-btn{ border-right:0 !important; font-size: clamp(18px, 6vw, 30px); }

  .board-upper{ grid-template-columns: 1fr; }
  .die{ width:92px; height:92px; }
  .turn-pawn img{ width:min(200px, 80vw); height:min(220px, 34vh); }
  .question-box{
    width:94vw;
    max-height:88vh;
    padding:18px 18px 20px;
  }
  .question-text{
    font-size:clamp(20px, 5.6vw, 26px);
  }
  .question-options button{
    font-size:17px;
    padding:12px 14px;
  }
  .question-options{ grid-template-columns:1fr; }
  .board-tools{ position:static; justify-content:flex-end; margin-bottom:8px; }
  .match-grid{ grid-template-columns:1fr; }
  .guess-row{
    grid-template-columns:1fr;
    align-items:stretch;
  }
  .guess-value{ text-align:left; }
}
